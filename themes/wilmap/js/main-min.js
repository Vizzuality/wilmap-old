"use strict";function getAbsolutePath(){var e=window.location,a=e.pathname.substring(0,e.pathname.lastIndexOf("/")+1);return e.href.substring(0,e.href.length-((e.pathname+e.search+e.hash).length-a.length))}!function(e){function a(a){e("."+a+"-option").addClass("-selected")}Drupal.behaviors.myBehavior={attach:function(t,s){var l=s.path.currentPath.split("/").pop(),i=getAbsolutePath();if(e(".filter-document").select2({placeholder:"Document Type",allowClear:!0,minimumResultsForSearch:1/0,theme:"wilmap-select-document"}),e(".filter-country").select2({placeholder:"Country",allowClear:!0,minimumResultsForSearch:1/0,theme:"wilmap-select-country"}),e(".filter-year").select2({placeholder:"Year",allowClear:!0,minimumResultsForSearch:1/0,theme:"wilmap-select-year"}),e(".filter-group").select2({placeholder:"Nothing",allowClear:!0,minimumResultsForSearch:1/0,theme:"wilmap-select-year"}),e(".filter-sort").select2({placeholder:"Newest firts",allowClear:!0,minimumResultsForSearch:1/0,theme:"wilmap-select-year"}),e(".search-box").click(function(){e(".search-modal").css("display","block"),e(".search-back").css("display","block"),setTimeout(function(){e(".search-modal").addClass("-visible"),e(".search-back").addClass("-visible")},10)}),e(".search-back").click(function(){e(".search-modal").removeClass("-visible"),e(".search-back").removeClass("-visible"),setTimeout(function(){e(".search-modal").css("display","none"),e(".search-back").css("display","none")},201)}),e(".search-box").keypress(function(){e(".search-box").val();e.ajax({url:i+"api/topicsJSON",method:"GET",headers:{Accept:"application/json","Content-Type":"application/hal+json"},success:function(e,a,t){}})}),0!==e(t).find(".topics-page").length&&!function(){var a=document.querySelector(".gallery-topics");e.ajax({url:i+"api/topicsJSON",method:"GET",headers:{Accept:"application/json","Content-Type":"application/hal+json"},success:function(t,s,l){for(var i=0;i<t.length;i++){var c='<a href="#" class="info-topics"><div><h3>'+t[i].field_name_topic+'</h3><hr><div class="paragraph">'+t[i].field_definition_topic+"</div></div></a>";e(a).append(c)}}})}(),0!==e(t).find(".news-page").length){var c=document.querySelector(".gallery-scroll");e(".option-category").click(function(){e(".option-category").removeClass("-selected");var a=e(this).data("bar");e(".small-bar").css("top",a+"px"),e(this).addClass("-selected")}),e.ajax({url:i+"api/newsJSON",method:"GET",headers:{Accept:"application/json","Content-Type":"application/hal+json"},success:function(a,t,s){for(var l=0;l<3;l++){var i='<div data-category="'+a[l].field_category+'" class="info-news"><h2>'+a[l].title+'</h2><span class="date">'+a[l].field_date_published+'</span><div class="text">'+a[l].field_summary+'</div><a class="butn -primary" href="'+a[l].path+'">read more</a></div>';e(c).append(i)}}})}0!==e(t).find(".node-pages").length?i.indexOf("/news/")!==-1&&(e(".node-pages").addClass("news-detail-page"),a("news"),e.ajax({url:"/api/newsJSON",method:"GET",headers:{Accept:"application/json","Content-Type":"application/hal+json"},success:function(a,t,s){for(var i=0;i<a.length;i++)l===a[i].nid&&(e(".title-node").html(a[i].field_title),e(".date-node").html(a[i].field_date_published),e(".content-node").append(a[i].field_summary))}})):a(s.path.currentPath)}}}(jQuery);